#include <iostream>
#include <cstdlib>
#include<string>
#include"myhash.h"

using namespace std;
int main() {
    /*int indeks;
    myhash myhashOb;
    indeks=myhashOb.Hash("Hejo");
    cout << "indeks:" << indeks << endl;
     */
    myhash Nowa;
    Nowa.dodajObiekt("Kasia", "Nowak");
    Nowa.dodajObiekt("Jan", "Kowalski");
    string imie;
    while(imie!= "exit")
    {
        cout<<"Podaj imie: ";
        cin>>imie;
        if (imie!="exit"){
            Nowa.znajdzNazwisko(imie);
        }
    }
}


myhash.h
#include <iostream>
#include <cstdlib>
#include<string>

using namespace std;

class myhash{
private:
    static const int rozmTab=10;
    struct obiekt{
        string imie;
        string nazwisko;
        obiekt*inny;
    };
    obiekt* hashTab[rozmTab];
public:
    myhash();
    int Hash(string klucz);//funkcja pobierajÄ…ca string i zamienia go na numer indeksu w tablicy
    void dodajObiekt(string imie, string nazwisko);
    void znajdzNazwisko(string imie);
};

myhash.cpp
#include <iostream>
#include <cstdlib>
#include<string>
#include"myhash.h"

using namespace std;
myhash::myhash() {
for (int i=0; i<rozmTab; i++)
{
    hashTab[i]=new obiekt;
    hashTab[i]->imie="empty";
    hashTab[i]->nazwisko="empty";
    hashTab[i]->inny=NULL;


}
}
void myhash::dodajObiekt(std::string imie, std::string nazwisko)
{
    int indeks= Hash(imie);
    if(hashTab[indeks]->imie=="empty"){
        hashTab[indeks]->imie=imie;
        hashTab[indeks]->nazwisko=nazwisko;
    }
    else
    {
        obiekt* wskaznik=hashTab[indeks];
        obiekt* n=new obiekt;
        n->imie=imie;
        n->nazwisko=nazwisko;
        n->inny=NULL;
        while(wskaznik->inny !=NULL)
        {
            wskaznik=wskaznik->inny;
        }
        wskaznik->inny=n;
    }
}
int myhash::Hash(string klucz)
{
    int myhash=0;
    int indeks;//rozmiar tablicy

    for(int i=0; i<klucz.length(); i++)//dodaje wszystkie wartosci ascii do siebie
    {
        myhash=myhash+(int)klucz[i];
    }
    indeks = myhash % rozmTab; //indeksem w tablicy jest reszta z dzielenia


    return indeks;
}
void myhash::znajdzNazwisko(std::string imie)
{
    int indeks= Hash(imie);
    bool znajdzImie=false;
    string nazwisko;
    obiekt* wskaznik=hashTab[indeks];
    while(wskaznik!=NULL)
    {
        if(wskaznik->imie==imie)
        {
            znajdzImie=true;
            nazwisko=wskaznik->imie;
        }
        wskaznik=wskaznik->inny;
    }
    if(znajdzImie == true)
    {
        cout<<"Nazwisko: "<<nazwisko<<endl;
    }
    else
    {
        cout<<imie<<"nie ma takiego imienia"<<endl;
    }
}





